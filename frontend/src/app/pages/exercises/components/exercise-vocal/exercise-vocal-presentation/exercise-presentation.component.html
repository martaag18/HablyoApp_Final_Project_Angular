<div class="bg-gray-50 w-full p-4 rounded shadow overflow-visible">
  <!-- Barra de iconos: Tilde + Arc -->
  <div class="mb-4 flex items-center gap-4">

    <!-- TILDE ICON -->
    <app-tilde-icon (dragStarted)="onDragStart($event, '´')"></app-tilde-icon>

    <!-- ARC ICON -->
    <app-arc-icon (dragStarted)="onDragStart($event, 'arc')"></app-arc-icon>
  </div>

  <!-- PALABRAS y DROPZONES -->
  <div
    class="flex gap-2 w-full overflow-visible one-line-scale"
    [ngClass]="{
      'short-phrase': wordList.length <= 3,
      'long-phrase': wordList.length > 3
    }"
  >
    <!-- Bucle de palabras -->
    @for (word of wordList; track $index) {

    <!-- LETRAS DE LA PALABRA -->
    <span class="inline-flex items-end">
      @for (letter of word.letters; track $index) {
      <app-letter-container
        [char]="letter.char"
        [globalIndex]="letter.globalIndex"
        [resultState]="resultLetters[letter.globalIndex]"
        [hasTilde]="annotation[letter.globalIndex] === '´'"
        (droppedOnLetter)="onDropLetter($event, letter.globalIndex)"
      >
      </app-letter-container>
      }
    </span>

    <!-- ARC DROPZONE -->
    @if ($index < wordList.length - 1) {
    <app-arc-dropzone
      [arcValue]="arcs[$index]"
      [resultState]="resultArcs[$index]"
      (droppedOnArc)="onDropArc($event, $index)"
    >
    </app-arc-dropzone>
    } }
  </div>

  <!-- Instrucciones ejercicio -->
  <app-instructions-footer></app-instructions-footer>
</div>
