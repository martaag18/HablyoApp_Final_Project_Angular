<div class="bg-gray-50 w-full p-4 rounded shadow overflow-visible">
  <!-- Barra de iconos: Tilde + Arc -->
  <div class="mb-4 flex items-center gap-4">
    <app-tilde-icon 
      (dragStarted)="onDragStart($event, '´')" 
      aria-label="Icono de tilde"
      role="button">
    </app-tilde-icon>
    
    <app-arc-icon 
      (dragStarted)="onDragStart($event, 'arc')" 
      aria-label="Icono de arco"
      role="button">
    </app-arc-icon>
  </div>

  <!-- PALABRAS y DROPZONES -->
  <div
    class="flex gap-2 w-full overflow-visible one-line-scale"
    [ngClass]="{
      'short-phrase': wordList.length <= 3,
      'long-phrase': wordList.length > 3
    }"
  >
    <!-- Bucle de palabras -->
    @for (word of wordList; track $index) {
      <!-- LETRAS DE LA PALABRA -->
      <span class="inline-flex items-end">
        @for (letter of word.letters; track $index) {
          <app-letter-container
            [char]="letter.char"
            [globalIndex]="letter.globalIndex"
            [resultStateTilde]="resultTilde[letter.globalIndex]"
            [hasTilde]="tildeMark[letter.globalIndex] === '´'"
            (droppedOnTilde)="onDropTilde($event, letter.globalIndex)"
          ></app-letter-container>
        }
      </span>

      <!-- ARC DROPZONE -->
      @if ($index < wordList.length - 1) {
        <app-arc-dropzone
          [arcValue]="arcMark[$index]"
          [resultState]="resultArc[$index]"
          (droppedOnArc)="onDropArc($event, $index)"
          aria-label="Zona de drop para arco"
        ></app-arc-dropzone>
      }
    }
  </div>

  <!-- Instrucciones del ejercicio -->
  <app-instructions-footer></app-instructions-footer>
</div>
